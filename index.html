<!DOCTYPE html> 
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>唐代三省六部结构图</title>

<!-- 样式 -->
<link rel="stylesheet" href="style.css" />

<!-- ECharts -->
<script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>

<!-- Font Awesome -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>
</head>

<body>
<!-- 新增：全屏背景容器，只添加这一行 -->
<div class="fullpage-background"></div>

<!-- ===== 头部 ===== -->
<header class="header">
  <div>
    <h1>
      <i class="fas fa-landmark"></i>
      唐代三省六部职官体系
    </h1>
    <p class="subtitle">开元时期中央官制结构可视化</p>
  </div>
</header>

<!-- ===== 图表区域（可滚动） ===== -->
<div class="chart-container">
  <!-- ✅ 新增：内部包装器，用于动态扩展 -->
  <div class="chart-inner-wrapper">
    <!-- 左侧：组织架构/员额树状图 -->
    <div id="org-chart"></div>
  </div>
  
  <!-- 右侧：员额旭日图（默认隐藏，员额可视化视图时显示） -->
  <div id="sunburst-container" style="display: none;">
    <div id="sunburst-chart"></div>
  </div>
</div>

<!-- ===== 左侧控制栏 ===== -->
<div class="left-controls">
  <!-- 视图切换滑块 -->
  <div class="view-toggle">
    <input type="radio" id="view-org" name="view-mode" value="org" checked>
    <label for="view-org" class="toggle-option">
      <i class="fas fa-sitemap"></i>
      <span>组织架构</span>
    </label>
    
    <input type="radio" id="view-staff" name="view-mode" value="staff">
    <label for="view-staff" class="toggle-option">
      <i class="fas fa-users"></i>
      <span>员额可视化</span>
    </label>
    
    <div class="toggle-slider"></div>
  </div>

  <!-- 缩放控制 -->
  <div class="zoom-controls">
    <button id="zoom-out" class="zoom-btn" title="缩小">
      <i class="fas fa-search-minus"></i>
    </button>
    <div class="zoom-slider-container">
      <input type="range" id="zoom-slider" min="50" max="200" value="100" class="zoom-slider">
      <span id="zoom-percent" class="zoom-percent">100%</span>
    </div>
    <button id="zoom-in" class="zoom-btn" title="放大">
      <i class="fas fa-search-plus"></i>
    </button>
    <button id="zoom-reset" class="zoom-btn" title="重置缩放">
      <i class="fas fa-undo-alt"></i>
    </button>
  </div>

  <!-- 展开/折叠控制 -->
  <div class="expand-controls">
    <button id="expand-all" class="expand-btn" title="展开全部节点">
      <i class="fas fa-expand-alt"></i>
      <span>展开全部</span>
    </button>
    <button id="collapse-all" class="expand-btn" title="折叠全部节点">
      <i class="fas fa-compress-alt"></i>
      <span>折叠全部</span>
    </button>
  </div>
</div>

<!-- ===== 右侧信息面板 ===== -->
<div class="info-panel">
  <div class="panel-header">
    <h2>
      <i class="fas fa-info-circle"></i>
      职官信息
    </h2>
    <span class="period-tag">开元年间 (713-741)</span>
  </div>

  <div class="panel-content">
    <div class="main-content-area">
      <div class="selected-info">
        <p>点击左侧结构图中的官署查看详细信息</p>
      </div>
    </div>

    <div class="historical-context">
      <h3>
        <i class="fas fa-book"></i>
        历史背景
      </h3>
      <p>
        唐代中央官制沿袭隋朝，确立三省六部制。
        三省指中书省、门下省、尚书省，
        六部指尚书省下属的吏、户、礼、兵、刑、工六部，
        是唐代中央政府的主要行政机构。
      </p>
    </div>
  </div>
</div>

<!-- ===== 页脚 ===== -->
<footer class="footer">
  <p>© 2026 唐代职官体系可视化项目</p>
</footer>

<!-- ===== JS ===== -->
<script src="main.js"></script>
<script>
  document.getElementById('current-date').textContent =
    new Date().toLocaleDateString('zh-CN');
</script>

</body>
</html>